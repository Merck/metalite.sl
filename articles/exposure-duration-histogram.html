<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>exposure-duration-histogram • metalite.sl</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="exposure-duration-histogram">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metalite.sl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/metalite.sl.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="exposure-duration-histogram_files/dropdownController.js-0.1.0/dropdownController.js"></script><script src="exposure-duration-histogram_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="exposure-duration-histogram_files/plotly-binding-4.11.0/plotly.js"></script><script src="exposure-duration-histogram_files/typedarray-0.1/typedarray.min.js"></script><link href="exposure-duration-histogram_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="exposure-duration-histogram_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="exposure-duration-histogram_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="exposure-duration-histogram_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>exposure-duration-histogram</h1>
            
      

      <div class="d-none name"><code>exposure-duration-histogram.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">metalite.sl</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="create-exposure-duration-histogram">Create Exposure Duration Histogram<a class="anchor" aria-label="anchor" href="#create-exposure-duration-histogram"></a>
</h2>
<p>The plotly_exp_duration() function provides an interactive
visualization of subject-level exposure duration in clinical trials.
This histogram helps assess how long participants remained on treatment,
with configurable duration categories such as “≥1 day”, “≥7 days”, “≥28
days”, and so on.</p>
<p>Using pre-processed output from prepare_exp_duration() (and
optionally extend_exp_duration()), plotly_exp_duration() generates an
intuitive, browser-based plot built with Plotly. Users can customize the
display type (e.g., counts or proportions), color, tooltip summary
statistics, and axis labels.</p>
<ul>
<li><p><code>meta_sl_exposure_example</code>: create example exposure
metadata (<code>meta</code> object) for demonstration or testing
purposes.</p></li>
<li><p><code>prepare_exp_duration</code>: process subject-level exposure
data to calculate treatment duration and prepare it for further
analysis.</p></li>
<li><p><code>extend_exp_duration</code>: categorize duration into
user-defined time windows (e.g., ≥7 days, ≥12 weeks) and add group-level
summaries.</p></li>
<li><p><code>plotly_exp_duration</code>: generate an interactive
histogram plot to visualize exposure duration distribution across
subjects or treatment arms.</p></li>
</ul>
<embed src="pdf/exposure0histogram.pdf" width="100%" height="400px" style="display: block; margin: auto;" type="application/pdf"></embed><div class="section level3">
<h3 id="build-a-metadata">1. Build a metadata<a class="anchor" aria-label="anchor" href="#build-a-metadata"></a>
</h3>
</div>
<div class="section level3">
<h3 id="meta_sl_exposure_example">meta_sl_exposure_example()<a class="anchor" aria-label="anchor" href="#meta_sl_exposure_example"></a>
</h3>
<p>There are two steps in <code>meta_sl_exposure_example</code> function
in order to build the metadata (<code>meta</code> object): processing
the ADaM dataset and save meta information for A&amp;R reporting.</p>
<p>Step1: ADEXSUM, the ADaM dataset for Drug Exposrue Summary Data, is
utilized to:</p>
<ul>
<li>Sum up duration by STUDYID SITENUM USUBJID SUBJID APERIOD EXTRT
ADOSEFRM PARAMCD.</li>
<li>Subset the exposure data by
<code>upcase(trim(left(paramcd))) = "TRTDUR"</code>.</li>
<li>Get the exposure duration <code>adexsum$AVAL</code> for all
participants.</li>
<li>Assign duration category <code>adexsum$EXDURGR</code> i.e.”&gt;=1
day”, “&gt;=7 days”,“&gt;=28 days”, “&gt;=12 weeks” and “&gt;=24
weeks”.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu">r2rtf</span><span class="fu">::</span><span class="va"><a href="https://merck.github.io/r2rtf/reference/r2rtf_adsl.html" class="external-link">r2rtf_adsl</a></span></span>
<span><span class="va">adexsum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>USUBJID <span class="op">=</span> <span class="va">adsl</span><span class="op">$</span><span class="va">USUBJID</span><span class="op">)</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">TRTA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">$</span><span class="va">TRT01A</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Placebo"</span>, <span class="st">"Xanomeline Low Dose"</span>, <span class="st">"Xanomeline High Dose"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Placebo"</span>, <span class="st">"Low Dose"</span>, <span class="st">"High Dose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">APERIODC</span> <span class="op">&lt;-</span> <span class="st">"Base"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">APERIOD</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span> <span class="co"># Set a seed for reproducibility</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="op">(</span><span class="fl">24</span> <span class="op">*</span> <span class="fl">7</span><span class="op">)</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">adexsum</span><span class="op">$</span><span class="va">USUBJID</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span> <span class="op">&lt;-</span> <span class="st">"not treated"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">[</span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&gt;=</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"&gt;=1 day"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">[</span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&gt;=</span> <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"&gt;=7 days"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">[</span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&gt;=</span> <span class="fl">28</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"&gt;=28 days"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">[</span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&gt;=</span> <span class="fl">12</span> <span class="op">*</span> <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"&gt;=12 weeks"</span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">[</span><span class="va">adexsum</span><span class="op">$</span><span class="va">AVAL</span> <span class="op">&gt;=</span> <span class="fl">24</span> <span class="op">*</span> <span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"&gt;=24 weeks"</span></span>
<span></span>
<span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"not treated"</span>, <span class="st">"&gt;=1 day"</span>, <span class="st">"&gt;=7 days"</span>, <span class="st">"&gt;=28 days"</span>, <span class="st">"&gt;=12 weeks"</span>, <span class="st">"&gt;=24 weeks"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">adexsum</span><span class="op">$</span><span class="va">EXDURGR</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] &gt;=12 weeks  &gt;=7 days    &gt;=28 days   &gt;=1 day     &gt;=24 weeks  not treated</span></span>
<span><span class="co">#&gt; Levels: not treated &gt;=1 day &gt;=7 days &gt;=28 days &gt;=12 weeks &gt;=24 weeks</span></span></code></pre></div>
<p>Step2: Save analysis plan and metadata(parameter and analysis)
information, then build meta object.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plan</span> <span class="op">&lt;-</span> <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span>
<span>  analysis <span class="op">=</span> <span class="st">"exp_dur"</span>, population <span class="op">=</span> <span class="st">"apat"</span>,</span>
<span>  observation <span class="op">=</span> <span class="st">"apat"</span>, parameter <span class="op">=</span> <span class="st">"expdur"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/meta_adam.html" class="external-link">meta_adam</a></span><span class="op">(</span></span>
<span>  population <span class="op">=</span> <span class="va">adexsum</span>,</span>
<span>  observation <span class="op">=</span> <span class="va">adexsum</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/define_plan.html" class="external-link">define_plan</a></span><span class="op">(</span><span class="va">plan</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/define_population.html" class="external-link">define_population</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"apat"</span>,</span>
<span>    group <span class="op">=</span> <span class="st">"TRTA"</span>,</span>
<span>    subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">APERIOD</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">AVAL</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/define_parameter.html" class="external-link">define_parameter</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"expdur"</span>,</span>
<span>    var <span class="op">=</span> <span class="st">"AVAL"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Exposure Duration (Days)"</span>,</span>
<span>    vargroup <span class="op">=</span> <span class="st">"EXDURGR"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/define_analysis.html" class="external-link">define_analysis</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"exp_dur"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Summary of Exposure Duration"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"exposure duration table"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">metalite</span><span class="fu">::</span><span class="fu"><a href="https://merck.github.io/metalite/reference/meta_build.html" class="external-link">meta_build</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="analysis-preparation">2. Analysis preparation<a class="anchor" aria-label="anchor" href="#analysis-preparation"></a>
</h3>
</div>
<div class="section level3">
<h3 id="prepare_exp_duration">prepare_exp_duration()<a class="anchor" aria-label="anchor" href="#prepare_exp_duration"></a>
</h3>
<p>The input of the function <code><a href="../reference/prepare_exp_duration.html">prepare_exp_duration()</a></code> is a
<code>meta</code> object created by the metalite package. The resulting
output comprises a collection of raw datasets for analysis and
reporting.</p>
<p>This function takes raw data (e.g., participant-level data with
exposure durations and treatment groups). It calculates summary
statistics (counts, proportions, medians, etc.) grouped by treatment
group. It also creates exposure duration categories (e.g., &gt;=1 day,
&gt;=7 days, etc.) by binning or categorizing the raw exposure duration
variable. The output is a structured dataset (outdata) that contains:
Counts and proportions of participants in each treatment group. Summary
statistics for the exposure duration variable within each treatment
group. However, at this stage, the statistics are grouped only by
treatment group, not yet broken down by exposure duration
categories.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_exp_duration.html">prepare_exp_duration</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span></span>
<span><span class="va">outdata</span></span>
<span><span class="co">#&gt; List of 14</span></span>
<span><span class="co">#&gt;  $ meta           :List of 7</span></span>
<span><span class="co">#&gt;  $ population     : chr "apat"</span></span>
<span><span class="co">#&gt;  $ observation    : chr "apat"</span></span>
<span><span class="co">#&gt;  $ parameter      : chr "expdur"</span></span>
<span><span class="co">#&gt;  $ n              :'data.frame': 1 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ order          : NULL</span></span>
<span><span class="co">#&gt;  $ group          : chr "TRTA"</span></span>
<span><span class="co">#&gt;  $ reference_group: NULL</span></span>
<span><span class="co">#&gt;  $ char_n         :List of 1</span></span>
<span><span class="co">#&gt;  $ char_var       : chr "AVAL"</span></span>
<span><span class="co">#&gt;  $ char_prop      :List of 1</span></span>
<span><span class="co">#&gt;  $ var_type       :List of 1</span></span>
<span><span class="co">#&gt;  $ group_label    : Factor w/ 3 levels "Placebo","Low Dose",..: 1 3 2</span></span>
<span><span class="co">#&gt;  $ analysis       : chr "exp_dur"</span></span></code></pre></div>
<p>Number of participants in population</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">n</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span><span class="co">#&gt;                         name n_1 n_2 n_3 n_9999</span></span>
<span><span class="co">#&gt; 1 Participants in population  86  83  84    253</span></span></code></pre></div>
<p>Number of participants in each duration category</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">charn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">outdata</span><span class="op">$</span><span class="va">char_n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">charn</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt;          name Placebo Low.Dose High.Dose Total</span></span>
<span><span class="co">#&gt; 1 not treated       0        0         0     0</span></span>
<span><span class="co">#&gt; 2     &gt;=1 day       2        4         3     9</span></span>
<span><span class="co">#&gt; 3    &gt;=7 days      13       11         9    33</span></span>
<span><span class="co">#&gt; 4   &gt;=28 days      31       20        27    78</span></span>
<span><span class="co">#&gt; 5  &gt;=12 weeks      39       48        45   132</span></span>
<span><span class="co">#&gt; 6  &gt;=24 weeks       1        0         0     1</span></span></code></pre></div>
<p>Proportion of participants in each duration category</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">charp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">outdata</span><span class="op">$</span><span class="va">char_prop</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">charp</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt;          name   Placebo  Low.Dose High.Dose      Total</span></span>
<span><span class="co">#&gt; 1 not treated  0.000000  0.000000  0.000000  0.0000000</span></span>
<span><span class="co">#&gt; 2     &gt;=1 day  2.325581  4.819277  3.571429  3.5573123</span></span>
<span><span class="co">#&gt; 3    &gt;=7 days 15.116279 13.253012 10.714286 13.0434783</span></span>
<span><span class="co">#&gt; 4   &gt;=28 days 36.046512 24.096386 32.142857 30.8300395</span></span>
<span><span class="co">#&gt; 5  &gt;=12 weeks 45.348837 57.831325 53.571429 52.1739130</span></span>
<span><span class="co">#&gt; 6  &gt;=24 weeks  1.162791  0.000000  0.000000  0.3952569</span></span></code></pre></div>
<p>Statistical summary of exposure duration for each treatment</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">outdata</span><span class="op">$</span><span class="va">char_n</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">chars</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">#&gt;        name         Placebo    Low.Dose       High.Dose     Total</span></span>
<span><span class="co">#&gt; 8      Mean            81.5        90.8            87.6      86.6</span></span>
<span><span class="co">#&gt; 9        SD            49.1        51.3            48.8      49.7</span></span>
<span><span class="co">#&gt; 10       SE             5.3         5.6             5.3       3.1</span></span>
<span><span class="co">#&gt; 11   Median            76.0        93.0            90.0      88.0</span></span>
<span><span class="co">#&gt; 12      Min             3.0         1.0             4.0       1.0</span></span>
<span><span class="co">#&gt; 13      Max           168.0       167.0           167.0     168.0</span></span>
<span><span class="co">#&gt; 14 Q1 to Q3 41.25 to 123.25 48 to 137.5 44.75 to 129.25 44 to 133</span></span>
<span><span class="co">#&gt; 15    Range        3 to 168    1 to 167        4 to 167  1 to 168</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extend_exp_duration">extend_exp_duration()<a class="anchor" aria-label="anchor" href="#extend_exp_duration"></a>
</h3>
<p>This function takes the output of prepare_exp_duration() and further
processes the data to create exposure duration categories explicitly. It
applies the specified duration category cutoffs (e.g., &gt;=1 day,
&gt;=7 days, etc.) to the exposure duration variable. It calculates
counts, proportions, and summary statistics for each exposure duration
category within each treatment group. This means now we have a
two-dimensional grouping: By treatment group (e.g., Placebo, Low Dose
and High Dose). By exposure duration category (e.g., &gt;=1 day, &gt;=7
days). The output outdata now contains tables like: char_n: counts by
exposure duration category and treatment group. char_prop: proportions
by exposure duration category and treatment group. char_stat_groups:
summary statistics by exposure duration category and treatment
group.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span> <span class="op">&lt;-</span> <span class="va">meta</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/prepare_exp_duration.html">prepare_exp_duration</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/extend_exp_duration.html">extend_exp_duration</a></span><span class="op">(</span></span>
<span>    duration_category_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">28</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span> <span class="op">*</span> <span class="fl">7</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span> <span class="op">*</span> <span class="fl">7</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    duration_category_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"&gt;=1 day"</span>, <span class="st">"&gt;=7 days"</span>, <span class="st">"&gt;=28 days"</span>, <span class="st">"&gt;=12 weeks"</span>, <span class="st">"&gt;=24 weeks"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">outdata</span></span>
<span><span class="co">#&gt; List of 19</span></span>
<span><span class="co">#&gt;  $ meta            :List of 7</span></span>
<span><span class="co">#&gt;  $ population      : chr "apat"</span></span>
<span><span class="co">#&gt;  $ observation     : chr "apat"</span></span>
<span><span class="co">#&gt;  $ parameter       : chr "expdur"</span></span>
<span><span class="co">#&gt;  $ n               :'data.frame':    1 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ order           : NULL</span></span>
<span><span class="co">#&gt;  $ group           : chr "TRTA"</span></span>
<span><span class="co">#&gt;  $ reference_group : NULL</span></span>
<span><span class="co">#&gt;  $ char_n          :List of 1</span></span>
<span><span class="co">#&gt;  $ char_var        : chr "AVAL"</span></span>
<span><span class="co">#&gt;  $ char_prop       :List of 1</span></span>
<span><span class="co">#&gt;  $ var_type        :List of 1</span></span>
<span><span class="co">#&gt;  $ group_label     : Factor w/ 3 levels "Placebo","Low Dose",..: 1 3 2</span></span>
<span><span class="co">#&gt;  $ analysis        : chr "exp_dur"</span></span>
<span><span class="co">#&gt;  $ char_stat_groups:List of 5</span></span>
<span><span class="co">#&gt;  $ char_n_cum      :List of 1</span></span>
<span><span class="co">#&gt;  $ char_prop_cum   :List of 1</span></span>
<span><span class="co">#&gt;  $ char_stat_cums  :List of 5</span></span>
<span><span class="co">#&gt;  $ extend_call     :List of 1</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">outdata</span><span class="op">$</span><span class="va">char_stat_groups</span>, .id <span class="op">=</span> <span class="st">"duration_category"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">all_stats</span></span>
<span><span class="co">#&gt;    duration_category     name      Placebo         Low Dose  High Dose</span></span>
<span><span class="co">#&gt; 1            &gt;=1 day     Mean          4.5              4.0        5.0</span></span>
<span><span class="co">#&gt; 2            &gt;=1 day       SD          2.1              2.4        1.0</span></span>
<span><span class="co">#&gt; 3            &gt;=1 day       SE          1.5              1.2        0.6</span></span>
<span><span class="co">#&gt; 4            &gt;=1 day   Median          4.5              4.5        5.0</span></span>
<span><span class="co">#&gt; 5            &gt;=1 day      Min          3.0              1.0        4.0</span></span>
<span><span class="co">#&gt; 6            &gt;=1 day      Max          6.0              6.0        6.0</span></span>
<span><span class="co">#&gt; 7            &gt;=1 day Q1 to Q3 3.75 to 5.25         2.5 to 6 4.5 to 5.5</span></span>
<span><span class="co">#&gt; 8            &gt;=1 day    Range       3 to 6           1 to 6     4 to 6</span></span>
<span><span class="co">#&gt; 9           &gt;=7 days     Mean         17.6             17.8       19.1</span></span>
<span><span class="co">#&gt; 10          &gt;=7 days       SD          6.0              5.4        6.6</span></span>
<span><span class="co">#&gt; 11          &gt;=7 days       SE          1.7              1.6        2.2</span></span>
<span><span class="co">#&gt; 12          &gt;=7 days   Median         21.0             19.0       21.0</span></span>
<span><span class="co">#&gt; 13          &gt;=7 days      Min          9.0              9.0        8.0</span></span>
<span><span class="co">#&gt; 14          &gt;=7 days      Max         25.0             25.0       26.0</span></span>
<span><span class="co">#&gt; 15          &gt;=7 days Q1 to Q3     13 to 23         14 to 22   15 to 25</span></span>
<span><span class="co">#&gt; 16          &gt;=7 days    Range      9 to 25          9 to 25    8 to 26</span></span>
<span><span class="co">#&gt; 17         &gt;=28 days     Mean         55.3             57.2       54.1</span></span>
<span><span class="co">#&gt; 18         &gt;=28 days       SD         15.1             16.8       16.6</span></span>
<span><span class="co">#&gt; 19         &gt;=28 days       SE          2.7              3.7        3.2</span></span>
<span><span class="co">#&gt; 20         &gt;=28 days   Median         54.0             54.5       53.0</span></span>
<span><span class="co">#&gt; 21         &gt;=28 days      Min         28.0             29.0       29.0</span></span>
<span><span class="co">#&gt; 22         &gt;=28 days      Max         80.0             82.0       83.0</span></span>
<span><span class="co">#&gt; 23         &gt;=28 days Q1 to Q3 44.5 to 67.5      43.75 to 73 40.5 to 68</span></span>
<span><span class="co">#&gt; 24         &gt;=28 days    Range     28 to 80         29 to 82   29 to 83</span></span>
<span><span class="co">#&gt; 25        &gt;=12 weeks     Mean        125.4            128.8      126.8</span></span>
<span><span class="co">#&gt; 26        &gt;=12 weeks       SD         27.5             25.1       25.4</span></span>
<span><span class="co">#&gt; 27        &gt;=12 weeks       SE          4.4              3.6        3.8</span></span>
<span><span class="co">#&gt; 28        &gt;=12 weeks   Median        124.0            135.0      126.0</span></span>
<span><span class="co">#&gt; 29        &gt;=12 weeks      Min         89.0             84.0       84.0</span></span>
<span><span class="co">#&gt; 30        &gt;=12 weeks      Max        165.0            167.0      167.0</span></span>
<span><span class="co">#&gt; 31        &gt;=12 weeks Q1 to Q3  98.5 to 155 108.75 to 150.25 105 to 152</span></span>
<span><span class="co">#&gt; 32        &gt;=12 weeks    Range    89 to 165        84 to 167  84 to 167</span></span>
<span><span class="co">#&gt; 33        &gt;=24 weeks     Mean        168.0             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 34        &gt;=24 weeks       SD           NA             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 35        &gt;=24 weeks       SE           NA             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 36        &gt;=24 weeks   Median        168.0             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 37        &gt;=24 weeks      Min        168.0             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 38        &gt;=24 weeks      Max        168.0             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 39        &gt;=24 weeks Q1 to Q3   168 to 168             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 40        &gt;=24 weeks    Range   168 to 168             &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt;         Total                var_label</span></span>
<span><span class="co">#&gt; 1         4.4 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 2         1.8 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 3         0.6 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 4         5.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 5         1.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 6         6.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 7      3 to 6 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 8      1 to 6 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 9        18.1 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 10        5.8 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 11        1.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 12       20.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 13        8.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 14       26.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 15   13 to 23 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 16    8 to 26 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 17       55.4 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 18       15.9 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 19        1.8 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 20       53.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 21       28.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 22       83.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 23 42 to 70.5 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 24   28 to 83 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 25      127.1 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 26       25.7 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 27        2.2 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 28      130.5 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 29       84.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 30      167.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 31 105 to 152 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 32  84 to 167 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 33      168.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 34         NA Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 35         NA Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 36      168.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 37      168.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 38      168.0 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 39 168 to 168 Exposure Duration (Days)</span></span>
<span><span class="co">#&gt; 40 168 to 168 Exposure Duration (Days)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotly_exp_duration">plotly_exp_duration()<a class="anchor" aria-label="anchor" href="#plotly_exp_duration"></a>
</h3>
<p>The function takes the fully prepared outdata from the above steps to
simply visualizes these pre-calculated statistics in an interactive way.
It reshapes the counts and proportions tables from wide to long format,
so each row corresponds to a specific combination of: Exposure duration
category (e.g., &gt;=7 days). Treatment group (e.g., Placebo). It uses
these reshaped tables to create stacked bar charts or grouped bar charts
that show: The number or proportion of participants in each exposure
duration category for each treatment group. It also uses the summary
statistics (char_stat_groups) to create hover text that shows detailed
statistics for each bar (i.e., for each treatment group × exposure
duration category). The interactive dropdown lets you switch between
different views (e.g., cumulative exposure duration, exclusive
categories, horizontal bars).</p>
<div>
<div id="histogram_dropdown_743f25cd-5138-4a17-9642-468eff16e1df">
<label class="dropdown-label" for="histogram_dropdown_743f25cd-5138-4a17-9642-468eff16e1df" style="margin-bottom: 0; font-weight: 400; font-family: sans-serif; font-size: 12px;">Histogram type</label>
<div>
<select onchange="dropdownController(this.value)" style="width: 800px; margin-bottom: 15px; cursor: pointer; font-weight: 400; font-family: sans-serif; font-size: 12px; padding: 1px 3px; border: 1px solid #cccccc; border-radius: 4px;"><option value="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision of Exposure Duration (&gt; = x days) by Treatment Groups">Comparision of Exposure Duration (&gt; = x days) by Treatment Groups</option>
<option value="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision of Exposure Duration (&gt; = x days and &lt; y days) by Treatment Groups">Comparision of Exposure Duration (&gt; = x days and &lt; y days) by Treatment Groups</option>
<option value="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision by Exposure Duration (&gt; = x days)">Comparision by Exposure Duration (&gt; = x days)</option></select>
</div>
</div>
<div>
<div id="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision of Exposure Duration (&gt; = x days) by Treatment Groups" style="width: 100%; height: 100%; display: block;">
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:800px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"visdat":{"203336bfce62":["function () ","plotlyVisDat"]},"cur_data":"203336bfce62","attrs":{"203336bfce62":{"x":{},"y":{},"hoverinfo":"text","text":{},"textposition":"none","color":{},"colors":["#66203A","#00857C","#6ECEB2","#BFED33","#FFF063"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"width":800,"height":400,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Treatment Group","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true,"type":"category","categoryorder":"array","categoryarray":["Placebo","Low Dose","High Dose","Total"]},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Number of participants","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true},"legend":{"title":{"text":"Exposure Duration"},"x":1.05,"titlefont":{"size":12},"font":{"size":9}},"autosize":false,"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Placebo","Low Dose","High Dose","Total"],"y":[86,83,84,253],"hoverinfo":["text","text","text","text"],"text":["Mean: 81.5<br />Min: 3.0<br />Max: 168.0","Mean: 90.8<br />Min: 1.0<br />Max: 167.0","Mean: 87.6<br />Min: 4.0<br />Max: 167.0","Mean: 86.6<br />Min: 1.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=1 day","marker":{"color":"rgba(102,32,58,1)","line":{"color":"rgba(102,32,58,1)"}},"textfont":{"color":"rgba(102,32,58,1)"},"error_y":{"color":"rgba(102,32,58,1)"},"error_x":{"color":"rgba(102,32,58,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[84,79,81,244],"hoverinfo":["text","text","text","text"],"text":["Mean: 83.3<br />Min: 9.0<br />Max: 168.0","Mean: 95.2<br />Min: 9.0<br />Max: 167.0","Mean: 90.6<br />Min: 8.0<br />Max: 167.0","Mean: 89.6<br />Min: 8.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=7 days","marker":{"color":"rgba(0,133,124,1)","line":{"color":"rgba(0,133,124,1)"}},"textfont":{"color":"rgba(0,133,124,1)"},"error_y":{"color":"rgba(0,133,124,1)"},"error_x":{"color":"rgba(0,133,124,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[71,68,72,211],"hoverinfo":["text","text","text","text"],"text":["Mean: 95.4<br />Min: 28.0<br />Max: 168.0","Mean: 107.7<br />Min: 29.0<br />Max: 167.0","Mean: 99.6<br />Min: 29.0<br />Max: 167.0","Mean: 100.8<br />Min: 28.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=28 days","marker":{"color":"rgba(110,206,178,1)","line":{"color":"rgba(110,206,178,1)"}},"textfont":{"color":"rgba(110,206,178,1)"},"error_y":{"color":"rgba(110,206,178,1)"},"error_x":{"color":"rgba(110,206,178,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[40,48,45,133],"hoverinfo":["text","text","text","text"],"text":["Mean: 126.4<br />Min: 89.0<br />Max: 168.0","Mean: 128.8<br />Min: 84.0<br />Max: 167.0","Mean: 126.8<br />Min: 84.0<br />Max: 167.0","Mean: 127.4<br />Min: 84.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=12 weeks","marker":{"color":"rgba(191,237,51,1)","line":{"color":"rgba(191,237,51,1)"}},"textfont":{"color":"rgba(191,237,51,1)"},"error_y":{"color":"rgba(191,237,51,1)"},"error_x":{"color":"rgba(191,237,51,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[1,0,0,1],"hoverinfo":["text","text","text","text"],"text":["Mean: 168.0<br />Min: 168.0<br />Max: 168.0","Mean: NA<br />Min: NA<br />Max: NA","Mean: NA<br />Min: NA<br />Max: NA","Mean: 168.0<br />Min: 168.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=24 weeks","marker":{"color":"rgba(255,240,99,1)","line":{"color":"rgba(255,240,99,1)"}},"textfont":{"color":"rgba(255,240,99,1)"},"error_y":{"color":"rgba(255,240,99,1)"},"error_x":{"color":"rgba(255,240,99,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision of Exposure Duration (&gt; = x days and &lt; y days) by Treatment Groups" style="width: 100%; height: 100%; display: none;">
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:800px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"visdat":{"2033699271c4":["function () ","plotlyVisDat"]},"cur_data":"2033699271c4","attrs":{"2033699271c4":{"x":{},"y":{},"hoverinfo":"text","text":{},"textposition":"none","color":{},"colors":["#66203A","#00857C","#6ECEB2","#BFED33","#FFF063","#0C2340"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"width":800,"height":400,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Treatment Group","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true,"type":"category","categoryorder":"array","categoryarray":["Placebo","Low Dose","High Dose","Total"]},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Number of participants","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true},"legend":{"title":{"text":"Exposure Duration"},"x":1.05,"titlefont":{"size":12},"font":{"size":9}},"barmode":"stack","autosize":false,"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Placebo","Low Dose","High Dose","Total"],"y":[0,0,0,0],"hoverinfo":["text","text","text","text"],"text":["","","",""],"textposition":["none","none","none","none"],"type":"bar","name":"not treated","marker":{"color":"rgba(102,32,58,1)","line":{"color":"rgba(102,32,58,1)"}},"textfont":{"color":"rgba(102,32,58,1)"},"error_y":{"color":"rgba(102,32,58,1)"},"error_x":{"color":"rgba(102,32,58,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[2,4,3,9],"hoverinfo":["text","text","text","text"],"text":["Mean: 4.5<br />Min: 3.0<br />Max: 6.0","Mean: 4.0<br />Min: 1.0<br />Max: 6.0","Mean: 5.0<br />Min: 4.0<br />Max: 6.0","Mean: 4.4<br />Min: 1.0<br />Max: 6.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=1 day","marker":{"color":"rgba(0,133,124,1)","line":{"color":"rgba(0,133,124,1)"}},"textfont":{"color":"rgba(0,133,124,1)"},"error_y":{"color":"rgba(0,133,124,1)"},"error_x":{"color":"rgba(0,133,124,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[13,11,9,33],"hoverinfo":["text","text","text","text"],"text":["Mean: 17.6<br />Min: 9.0<br />Max: 25.0","Mean: 17.8<br />Min: 9.0<br />Max: 25.0","Mean: 19.1<br />Min: 8.0<br />Max: 26.0","Mean: 18.1<br />Min: 8.0<br />Max: 26.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=7 days","marker":{"color":"rgba(110,206,178,1)","line":{"color":"rgba(110,206,178,1)"}},"textfont":{"color":"rgba(110,206,178,1)"},"error_y":{"color":"rgba(110,206,178,1)"},"error_x":{"color":"rgba(110,206,178,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[31,20,27,78],"hoverinfo":["text","text","text","text"],"text":["Mean: 55.3<br />Min: 28.0<br />Max: 80.0","Mean: 57.2<br />Min: 29.0<br />Max: 82.0","Mean: 54.1<br />Min: 29.0<br />Max: 83.0","Mean: 55.4<br />Min: 28.0<br />Max: 83.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=28 days","marker":{"color":"rgba(191,237,51,1)","line":{"color":"rgba(191,237,51,1)"}},"textfont":{"color":"rgba(191,237,51,1)"},"error_y":{"color":"rgba(191,237,51,1)"},"error_x":{"color":"rgba(191,237,51,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[39,48,45,132],"hoverinfo":["text","text","text","text"],"text":["Mean: 125.4<br />Min: 89.0<br />Max: 165.0","Mean: 128.8<br />Min: 84.0<br />Max: 167.0","Mean: 126.8<br />Min: 84.0<br />Max: 167.0","Mean: 127.1<br />Min: 84.0<br />Max: 167.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=12 weeks","marker":{"color":"rgba(255,240,99,1)","line":{"color":"rgba(255,240,99,1)"}},"textfont":{"color":"rgba(255,240,99,1)"},"error_y":{"color":"rgba(255,240,99,1)"},"error_x":{"color":"rgba(255,240,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Placebo","Low Dose","High Dose","Total"],"y":[1,0,0,1],"hoverinfo":["text","text","text","text"],"text":["Mean: 168.0<br />Min: 168.0<br />Max: 168.0","Mean: NA<br />Min: NA<br />Max: NA","Mean: NA<br />Min: NA<br />Max: NA","Mean: 168.0<br />Min: 168.0<br />Max: 168.0"],"textposition":["none","none","none","none"],"type":"bar","name":">=24 weeks","marker":{"color":"rgba(12,35,64,1)","line":{"color":"rgba(12,35,64,1)"}},"textfont":{"color":"rgba(12,35,64,1)"},"error_y":{"color":"rgba(12,35,64,1)"},"error_x":{"color":"rgba(12,35,64,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="histogram_type_6dafadd0-153c-4fff-99e2-b2058a661680|Comparision by Exposure Duration (&gt; = x days)" style="width: 100%; height: 100%; display: none;">
<div id="htmlwidget-36aa3d2a04d42bbc2145" style="width:800px;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"visdat":{"203358f00f3f":["function () ","plotlyVisDat"]},"cur_data":"203358f00f3f","attrs":{"203358f00f3f":{"x":{},"y":{},"orientation":"h","hoverinfo":"text","text":{},"textposition":"none","color":{},"colors":["#66203A","#00857C","#6ECEB2","#BFED33"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"width":800,"height":400,"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Number of participants","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true},"yaxis":{"domain":[0,1],"automargin":true,"title":{"text":"Exposure Duration","standoff":20},"titlefont":{"size":12},"ticks":"outside","tickwidth":1,"tickfont":{"size":9},"showline":true,"linewidth":2,"linecolor":"#cccccc","mirror":true,"type":"category","categoryorder":"array","categoryarray":[">=1 day",">=7 days",">=28 days",">=12 weeks",">=24 weeks"]},"legend":{"title":{"text":"Treatment Group"},"x":1.05,"titlefont":{"size":12},"font":{"size":9}},"autosize":false,"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[86,84,71,40,1],"y":[">=1 day",">=7 days",">=28 days",">=12 weeks",">=24 weeks"],"orientation":"h","hoverinfo":["text","text","text","text","text"],"text":["Mean: 81.5<br />Min: 3.0<br />Max: 168.0","Mean: 83.3<br />Min: 9.0<br />Max: 168.0","Mean: 95.4<br />Min: 28.0<br />Max: 168.0","Mean: 126.4<br />Min: 89.0<br />Max: 168.0","Mean: 168.0<br />Min: 168.0<br />Max: 168.0"],"textposition":["none","none","none","none","none"],"type":"bar","name":"Placebo","marker":{"color":"rgba(102,32,58,1)","line":{"color":"rgba(102,32,58,1)"}},"textfont":{"color":"rgba(102,32,58,1)"},"error_y":{"color":"rgba(102,32,58,1)"},"error_x":{"color":"rgba(102,32,58,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[83,79,68,48,0],"y":[">=1 day",">=7 days",">=28 days",">=12 weeks",">=24 weeks"],"orientation":"h","hoverinfo":["text","text","text","text","text"],"text":["Mean: 90.8<br />Min: 1.0<br />Max: 167.0","Mean: 95.2<br />Min: 9.0<br />Max: 167.0","Mean: 107.7<br />Min: 29.0<br />Max: 167.0","Mean: 128.8<br />Min: 84.0<br />Max: 167.0","Mean: NA<br />Min: NA<br />Max: NA"],"textposition":["none","none","none","none","none"],"type":"bar","name":"Low Dose","marker":{"color":"rgba(0,133,124,1)","line":{"color":"rgba(0,133,124,1)"}},"textfont":{"color":"rgba(0,133,124,1)"},"error_y":{"color":"rgba(0,133,124,1)"},"error_x":{"color":"rgba(0,133,124,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[84,81,72,45,0],"y":[">=1 day",">=7 days",">=28 days",">=12 weeks",">=24 weeks"],"orientation":"h","hoverinfo":["text","text","text","text","text"],"text":["Mean: 87.6<br />Min: 4.0<br />Max: 167.0","Mean: 90.6<br />Min: 8.0<br />Max: 167.0","Mean: 99.6<br />Min: 29.0<br />Max: 167.0","Mean: 126.8<br />Min: 84.0<br />Max: 167.0","Mean: NA<br />Min: NA<br />Max: NA"],"textposition":["none","none","none","none","none"],"type":"bar","name":"High Dose","marker":{"color":"rgba(110,206,178,1)","line":{"color":"rgba(110,206,178,1)"}},"textfont":{"color":"rgba(110,206,178,1)"},"error_y":{"color":"rgba(110,206,178,1)"},"error_x":{"color":"rgba(110,206,178,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[253,244,211,133,1],"y":[">=1 day",">=7 days",">=28 days",">=12 weeks",">=24 weeks"],"orientation":"h","hoverinfo":["text","text","text","text","text"],"text":["Mean: 86.6<br />Min: 1.0<br />Max: 168.0","Mean: 89.6<br />Min: 8.0<br />Max: 168.0","Mean: 100.8<br />Min: 28.0<br />Max: 168.0","Mean: 127.4<br />Min: 84.0<br />Max: 168.0","Mean: 168.0<br />Min: 168.0<br />Max: 168.0"],"textposition":["none","none","none","none","none"],"type":"bar","name":"Total","marker":{"color":"rgba(191,237,51,1)","line":{"color":"rgba(191,237,51,1)"}},"textfont":{"color":"rgba(191,237,51,1)"},"error_y":{"color":"rgba(191,237,51,1)"},"error_x":{"color":"rgba(191,237,51,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Wang, Yujie Zhao, Hiroaki Fukuda, PoYao Niu, Nan Xiao. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3. <br>Copyright © 2024 Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates. All rights reserved.</p>
</div>

<div class="pkgdown-footer-right">
  <p><span></span></p>
</div>

    </footer>
</div>





  </body>
</html>
