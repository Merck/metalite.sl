<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Disposition Table â€¢ metalite.sl</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Disposition Table">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metalite.sl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/metalite.sl.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Disposition Table</h1>
            
      

      <div class="d-none name"><code>disposition.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">metalite.sl</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://merck.github.io/metalite/" class="external-link">metalite</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="create-disposition-table">Create Disposition Table<a class="anchor" aria-label="anchor" href="#create-disposition-table"></a>
</h2>
<p>The objective of this tutorial is to generate a production-ready
Disposition table specification analyses.</p>
<p>This report produces a table that contains counts and percentage of
disposition for the participants in population for overall study. To
accomplish this using metalite.sl, four essential functions are
required:</p>
<ul>
<li><p><code><a href="../reference/prepare_disposition.html">prepare_disposition ()</a></code>:subset data for disposition
analysis.</p></li>
<li><p><code><a href="../reference/format_disposition.html">format_disposition()</a></code>: prepare analysis outdata with
proper format.</p></li>
<li><p><code><a href="../reference/rtf_disposition.html">rtf_disposition ()</a></code>: transfer output dataset to RTF
table.</p></li>
</ul>
<p>An example output:</p>
<embed src="pdf/disposition.pdf" width="100%" height="400px" style="display: block; margin: auto;" type="application/pdf"></embed><div class="section level3">
<h3 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h3>
<p>Within metalite.sl, we utilized the ADSL datasets from the metalite
package to create an illustrative dataset. The metadata structure
remains consistent across all analysis examples within metalite.sl.
Additional information can be accessed on the <a href="https://merck.github.io/metalite/articles/metalite.html" class="external-link">metalite
package website</a>.</p>
</div>
<div class="section level3">
<h3 id="build-a-metadata">Build a metadata<a class="anchor" aria-label="anchor" href="#build-a-metadata"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu">r2rtf</span><span class="fu">::</span><span class="va"><a href="https://merck.github.io/r2rtf/reference/r2rtf_adsl.html" class="external-link">r2rtf_adsl</a></span></span>
<span><span class="va">adsl</span><span class="op">$</span><span class="va">TRTA</span> <span class="op">&lt;-</span> <span class="va">adsl</span><span class="op">$</span><span class="va">TRT01A</span></span>
<span><span class="va">adsl</span><span class="op">$</span><span class="va">TRTA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">$</span><span class="va">TRTA</span>,</span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Placebo"</span>, <span class="st">"Xanomeline Low Dose"</span>, <span class="st">"Xanomeline High Dose"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Placebo"</span>, <span class="st">"Low Dose"</span>, <span class="st">"High Dose"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a variable EOSSTT indicating the end of end of study status</span></span>
<span><span class="va">adsl</span><span class="op">$</span><span class="va">EOSSTT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Participants Ongoing"</span>, <span class="st">"Discontinued"</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">$</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>  prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.8</span>, <span class="fl">0.2</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">adsl</span><span class="op">[</span><span class="va">adsl</span><span class="op">[[</span><span class="st">"EOSSTT"</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="st">"Discontinued"</span>, <span class="st">"DCSREAS"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Adverse Event"</span>, <span class="st">"I/E Not Met"</span>, <span class="st">"Withdrew Consent"</span>, <span class="st">"Lack of Efficacy"</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">[</span><span class="va">adsl</span><span class="op">[[</span><span class="st">"EOSSTT"</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="st">"Discontinued"</span>, <span class="st">"USUBJID"</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a variable EOTSTT1 indicating the end of treatment status part 1</span></span>
<span><span class="va">adsl</span><span class="op">$</span><span class="va">EOTSTT1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">$</span><span class="va">DISCONFL</span> <span class="op">==</span> <span class="st">"Y"</span>, <span class="st">"Discontinued"</span>, <span class="st">"Completed"</span><span class="op">)</span></span>
<span><span class="va">adsl</span><span class="op">$</span><span class="va">DCTREAS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">$</span><span class="va">EOTSTT1</span> <span class="op">==</span> <span class="st">"Discontinued"</span>, <span class="va">adsl</span><span class="op">$</span><span class="va">DCREASCD</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">adsl</span><span class="op">)</span></span>
<span><span class="co">#&gt;        STUDYID     USUBJID SUBJID SITEID SITEGR1                  ARM</span></span>
<span><span class="co">#&gt; 1 CDISCPILOT01 01-701-1015   1015    701     701              Placebo</span></span>
<span><span class="co">#&gt; 2 CDISCPILOT01 01-701-1023   1023    701     701              Placebo</span></span>
<span><span class="co">#&gt; 3 CDISCPILOT01 01-701-1028   1028    701     701 Xanomeline High Dose</span></span>
<span><span class="co">#&gt; 4 CDISCPILOT01 01-701-1033   1033    701     701  Xanomeline Low Dose</span></span>
<span><span class="co">#&gt; 5 CDISCPILOT01 01-701-1034   1034    701     701 Xanomeline High Dose</span></span>
<span><span class="co">#&gt; 6 CDISCPILOT01 01-701-1047   1047    701     701              Placebo</span></span>
<span><span class="co">#&gt;                 TRT01P TRT01PN               TRT01A TRT01AN     TRTSDT</span></span>
<span><span class="co">#&gt; 1              Placebo       0              Placebo       0 2014-01-02</span></span>
<span><span class="co">#&gt; 2              Placebo       0              Placebo       0 2012-08-05</span></span>
<span><span class="co">#&gt; 3 Xanomeline High Dose      81 Xanomeline High Dose      81 2013-07-19</span></span>
<span><span class="co">#&gt; 4  Xanomeline Low Dose      54  Xanomeline Low Dose      54 2014-03-18</span></span>
<span><span class="co">#&gt; 5 Xanomeline High Dose      81 Xanomeline High Dose      81 2014-07-01</span></span>
<span><span class="co">#&gt; 6              Placebo       0              Placebo       0 2013-02-12</span></span>
<span><span class="co">#&gt;       TRTEDT TRTDUR AVGDD CUMDOSE AGE AGEGR1 AGEGR1N  AGEU  RACE RACEN SEX</span></span>
<span><span class="co">#&gt; 1 2014-07-02    182   0.0       0  63    &lt;65       1 YEARS WHITE     1   F</span></span>
<span><span class="co">#&gt; 2 2012-09-01     28   0.0       0  64    &lt;65       1 YEARS WHITE     1   M</span></span>
<span><span class="co">#&gt; 3 2014-01-14    180  77.7   13986  71  65-80       2 YEARS WHITE     1   M</span></span>
<span><span class="co">#&gt; 4 2014-03-31     14  54.0     756  74  65-80       2 YEARS WHITE     1   M</span></span>
<span><span class="co">#&gt; 5 2014-12-30    183  76.9   14067  77  65-80       2 YEARS WHITE     1   F</span></span>
<span><span class="co">#&gt; 6 2013-03-09     26   0.0       0  85    &gt;80       3 YEARS WHITE     1   F</span></span>
<span><span class="co">#&gt;                   ETHNIC SAFFL ITTFL EFFFL COMP8FL COMP16FL COMP24FL DISCONFL</span></span>
<span><span class="co">#&gt; 1     HISPANIC OR LATINO     Y     Y     Y       Y        Y        Y         </span></span>
<span><span class="co">#&gt; 2     HISPANIC OR LATINO     Y     Y     Y       N        N        N        Y</span></span>
<span><span class="co">#&gt; 3 NOT HISPANIC OR LATINO     Y     Y     Y       Y        Y        Y         </span></span>
<span><span class="co">#&gt; 4 NOT HISPANIC OR LATINO     Y     Y     Y       N        N        N        Y</span></span>
<span><span class="co">#&gt; 5 NOT HISPANIC OR LATINO     Y     Y     Y       Y        Y        Y         </span></span>
<span><span class="co">#&gt; 6 NOT HISPANIC OR LATINO     Y     Y     Y       N        N        N        Y</span></span>
<span><span class="co">#&gt;   DSRAEFL DTHFL BMIBL BMIBLGR1 HEIGHTBL WEIGHTBL EDUCLVL   DISONSDT DURDIS</span></span>
<span><span class="co">#&gt; 1                25.1   25-&lt;30    147.3     54.4      16 2010-04-30   43.9</span></span>
<span><span class="co">#&gt; 2       Y        30.4     &gt;=30    162.6     80.3      14 2006-03-11   76.4</span></span>
<span><span class="co">#&gt; 3                31.4     &gt;=30    177.8     99.3      16 2009-12-16   42.8</span></span>
<span><span class="co">#&gt; 4                28.8   25-&lt;30    175.3     88.5      12 2009-08-02   55.3</span></span>
<span><span class="co">#&gt; 5                26.1   25-&lt;30    154.9     62.6       9 2011-09-29   32.9</span></span>
<span><span class="co">#&gt; 6       Y        30.4     &gt;=30    148.6     67.1       8 2009-07-26   42.0</span></span>
<span><span class="co">#&gt;   DURDSGR1   VISIT1DT    RFSTDTC    RFENDTC VISNUMEN     RFENDT</span></span>
<span><span class="co">#&gt; 1     &gt;=12 2013-12-26 2014-01-02 2014-07-02       12 2014-07-02</span></span>
<span><span class="co">#&gt; 2     &gt;=12 2012-07-22 2012-08-05 2012-09-02        5 2012-09-02</span></span>
<span><span class="co">#&gt; 3     &gt;=12 2013-07-11 2013-07-19 2014-01-14       12 2014-01-14</span></span>
<span><span class="co">#&gt; 4     &gt;=12 2014-03-10 2014-03-18 2014-04-14        5 2014-04-14</span></span>
<span><span class="co">#&gt; 5     &gt;=12 2014-06-24 2014-07-01 2014-12-30       12 2014-12-30</span></span>
<span><span class="co">#&gt; 6     &gt;=12 2013-01-22 2013-02-12 2013-03-29        6 2013-03-29</span></span>
<span><span class="co">#&gt;                       DCDECOD         DCREASCD MMSETOT      TRTA</span></span>
<span><span class="co">#&gt; 1                   COMPLETED        Completed      23   Placebo</span></span>
<span><span class="co">#&gt; 2               ADVERSE EVENT    Adverse Event      23   Placebo</span></span>
<span><span class="co">#&gt; 3                   COMPLETED        Completed      23 High Dose</span></span>
<span><span class="co">#&gt; 4 STUDY TERMINATED BY SPONSOR Sponsor Decision      23  Low Dose</span></span>
<span><span class="co">#&gt; 5                   COMPLETED        Completed      21 High Dose</span></span>
<span><span class="co">#&gt; 6               ADVERSE EVENT    Adverse Event      23   Placebo</span></span>
<span><span class="co">#&gt;                 EOSSTT       DCSREAS      EOTSTT1          DCTREAS</span></span>
<span><span class="co">#&gt; 1 Participants Ongoing          &lt;NA&gt;    Completed             &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2         Discontinued Adverse Event Discontinued    Adverse Event</span></span>
<span><span class="co">#&gt; 3 Participants Ongoing          &lt;NA&gt;    Completed             &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4 Participants Ongoing          &lt;NA&gt; Discontinued Sponsor Decision</span></span>
<span><span class="co">#&gt; 5 Participants Ongoing          &lt;NA&gt;    Completed             &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6 Participants Ongoing          &lt;NA&gt; Discontinued    Adverse Event</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plan</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/metalite/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span>
<span>  analysis <span class="op">=</span> <span class="st">"disp"</span>, population <span class="op">=</span> <span class="st">"apat"</span>,</span>
<span>  observation <span class="op">=</span> <span class="st">"apat"</span>, parameter <span class="op">=</span> <span class="st">"disposition;medical-disposition"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://merck.github.io/metalite/reference/meta_adam.html" class="external-link">meta_adam</a></span><span class="op">(</span></span>
<span>  population <span class="op">=</span> <span class="va">adsl</span>,</span>
<span>  observation <span class="op">=</span> <span class="va">adsl</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/define_plan.html" class="external-link">define_plan</a></span><span class="op">(</span>plan <span class="op">=</span> <span class="va">plan</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/define_population.html" class="external-link">define_population</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"apat"</span>,</span>
<span>    group <span class="op">=</span> <span class="st">"TRTA"</span>,</span>
<span>    subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">SAFFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/define_parameter.html" class="external-link">define_parameter</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"disposition"</span>,</span>
<span>    var <span class="op">=</span> <span class="st">"EOSSTT"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Trial Disposition"</span>,</span>
<span>    var_lower <span class="op">=</span> <span class="st">"DCSREAS"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/define_parameter.html" class="external-link">define_parameter</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"medical-disposition"</span>,</span>
<span>    var <span class="op">=</span> <span class="st">"EOTSTT1"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Participant Study Medication Disposition"</span>,</span>
<span>    var_lower <span class="op">=</span> <span class="st">"DCTREAS"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/define_analysis.html" class="external-link">define_analysis</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"disp"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Disposition of Participant"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"disposition table"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://merck.github.io/metalite/reference/meta_build.html" class="external-link">meta_build</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Click to show the output
</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span></span>
<span><span class="co">#&gt; ADaM metadata: </span></span>
<span><span class="co">#&gt;    .$data_population     Population data with 254 subjects </span></span>
<span><span class="co">#&gt;    .$data_observation    Observation data with 254 records </span></span>
<span><span class="co">#&gt;    .$plan    Analysis plan with 1 plans </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Analysis population type:</span></span>
<span><span class="co">#&gt;     name        id  group var       subset                         label</span></span>
<span><span class="co">#&gt; 1 'apat' 'USUBJID' 'TRTA'     SAFFL == 'Y' 'All Participants as Treated'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Analysis observation type:</span></span>
<span><span class="co">#&gt;     name        id  group var subset                         label</span></span>
<span><span class="co">#&gt; 1 'apat' 'USUBJID' 'TRTA'            'All Participants as Treated'</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Analysis parameter type:</span></span>
<span><span class="co">#&gt;                    name                                      label subset</span></span>
<span><span class="co">#&gt; 1         'disposition'                        'Trial Disposition'       </span></span>
<span><span class="co">#&gt; 2 'medical-disposition' 'Participant Study Medication Disposition'       </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Analysis function:</span></span>
<span><span class="co">#&gt;     name               label</span></span>
<span><span class="co">#&gt; 1 'disp' 'disposition table'</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="analysis-preparation">Analysis preparation<a class="anchor" aria-label="anchor" href="#analysis-preparation"></a>
</h3>
<p>The function <code><a href="../reference/prepare_disposition.html">prepare_disposition()</a></code> is written to prepare
data for subject disposition analysis.The function takes four
arguments:</p>
<p>Meta is metadata object created by metalite and it contains data from
ADSL. Analysis, Population, and Parameter arguments are used to subset
and process the meta data. They have default values, which rely on the
meta data object.</p>
<p>The function assign default value Analysis to
<code>prepare_disposition</code>, Population to the population value
associated with the <code>prepare_disposition</code> analysis in meta
plan, and parameter to the parameter(s) associated with the
<code>prepare_disposition</code> analysis in meta$plan.</p>
<p>However, the user can also manually specify the analysis, population,
and parameter values when calling the function, if they want to override
the default values.</p>
<p>In the body of the function, it calls another function
<code>prepare_sl_summary</code> with the same meta, analysis,
population, and parameter arguments. <code>prepare_sl_summary</code>
takes the meta data, subsets it based on the analysis, population, and
parameter values, and then calculates and returns a summary of the
relevant data.</p>
<p>The result of <code>prepare_sl_summary</code> is then returned as the
result of <code>prepare_disposition</code>.</p>
<p>The resulting output of the function
<code><a href="../reference/prepare_disposition.html">prepare_disposition()</a></code> comprises a collection of raw
datasets for analysis and reporting.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_disposition.html">prepare_disposition</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Click to show the output
</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span></span>
<span><span class="co">#&gt; List of 14</span></span>
<span><span class="co">#&gt;  $ meta           :List of 7</span></span>
<span><span class="co">#&gt;  $ population     : chr "apat"</span></span>
<span><span class="co">#&gt;  $ observation    : chr "apat"</span></span>
<span><span class="co">#&gt;  $ parameter      : chr "disposition;medical-disposition"</span></span>
<span><span class="co">#&gt;  $ n              :'data.frame': 1 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ order          : NULL</span></span>
<span><span class="co">#&gt;  $ group          : chr "TRTA"</span></span>
<span><span class="co">#&gt;  $ reference_group: NULL</span></span>
<span><span class="co">#&gt;  $ char_n         :List of 2</span></span>
<span><span class="co">#&gt;  $ char_var       : chr [1:2] "EOSSTT" "EOTSTT1"</span></span>
<span><span class="co">#&gt;  $ char_prop      :List of 2</span></span>
<span><span class="co">#&gt;  $ var_type       :List of 2</span></span>
<span><span class="co">#&gt;  $ group_label    : Factor w/ 3 levels "Placebo","Low Dose",..: 1 3 2</span></span>
<span><span class="co">#&gt;  $ analysis       : chr "disp"</span></span></code></pre></div>
<ul>
<li>
<code>parameter</code>: parameter name</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">parameter</span></span>
<span><span class="co">#&gt; [1] "disposition;medical-disposition"</span></span></code></pre></div>
<ul>
<li>
<code>n</code>: number of participants in population</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">n</span></span>
<span><span class="co">#&gt;                         name n_1 n_2 n_3 n_9999 var_label</span></span>
<span><span class="co">#&gt; 1 Participants in population  86  84  84    254     -----</span></span></code></pre></div>
<p>The resulting dataset contains frequently used statistics, with
variables indexed according to the order specified in
<code>outdata$group</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">group</span></span>
<span><span class="co">#&gt; [1] "TRTA"</span></span></code></pre></div>
<ul>
<li>
<code>char_n</code>: number of participants completed vs not
completed in each parameter</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">char_n</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;                   name Placebo Low Dose High Dose Total         var_label</span></span>
<span><span class="co">#&gt; 1         Discontinued      24       12        20    56 Trial Disposition</span></span>
<span><span class="co">#&gt; 2        Adverse Event      18        9        13    40 Trial Disposition</span></span>
<span><span class="co">#&gt; 3          I/E Not Met       3        0         4     7 Trial Disposition</span></span>
<span><span class="co">#&gt; 4     Lack of Efficacy       2        2         2     6 Trial Disposition</span></span>
<span><span class="co">#&gt; 5     Withdrew Consent       1        1         1     3 Trial Disposition</span></span>
<span><span class="co">#&gt; 6 Participants Ongoing      62       72        64   198 Trial Disposition</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;                      name Placebo Low Dose High Dose Total</span></span>
<span><span class="co">#&gt; 1               Completed      58       25        27   110</span></span>
<span><span class="co">#&gt; 2            Discontinued      28       59        57   144</span></span>
<span><span class="co">#&gt; 3           Adverse Event       8       44        40    92</span></span>
<span><span class="co">#&gt; 4                   Death       2        1         0     3</span></span>
<span><span class="co">#&gt; 5             I/E Not Met       1        0         2     3</span></span>
<span><span class="co">#&gt; 6        Lack of Efficacy       3        0         1     4</span></span>
<span><span class="co">#&gt; 7       Lost to Follow-up       1        1         0     2</span></span>
<span><span class="co">#&gt; 8      Physician Decision       1        0         2     3</span></span>
<span><span class="co">#&gt; 9      Protocol Violation       1        1         1     3</span></span>
<span><span class="co">#&gt; 10       Sponsor Decision       2        2         3     7</span></span>
<span><span class="co">#&gt; 11       Withdrew Consent       9       10         8    27</span></span>
<span><span class="co">#&gt;                                   var_label</span></span>
<span><span class="co">#&gt; 1  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 2  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 3  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 4  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 5  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 6  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 7  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 8  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 9  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 10 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 11 Participant Study Medication Disposition</span></span></code></pre></div>
<ul>
<li>
<code>char_var</code> : name of parameter</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">char_var</span></span>
<span><span class="co">#&gt; [1] "EOSSTT"  "EOTSTT1"</span></span></code></pre></div>
<ul>
<li>
<code>char_prop</code> : proportion of subject with disposition</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">char_prop</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;                   name          Placebo         Low Dose        High Dose</span></span>
<span><span class="co">#&gt; 1         Discontinued         27.90698         14.28571         23.80952</span></span>
<span><span class="co">#&gt; 2        Adverse Event 20.9302325581395 10.7142857142857 15.4761904761905</span></span>
<span><span class="co">#&gt; 3          I/E Not Met 3.48837209302326                0 4.76190476190476</span></span>
<span><span class="co">#&gt; 4     Lack of Efficacy 2.32558139534884 2.38095238095238 2.38095238095238</span></span>
<span><span class="co">#&gt; 5     Withdrew Consent 1.16279069767442 1.19047619047619 1.19047619047619</span></span>
<span><span class="co">#&gt; 6 Participants Ongoing         72.09302         85.71429         76.19048</span></span>
<span><span class="co">#&gt;              Total         var_label</span></span>
<span><span class="co">#&gt; 1         22.04724 Trial Disposition</span></span>
<span><span class="co">#&gt; 2  15.748031496063 Trial Disposition</span></span>
<span><span class="co">#&gt; 3 2.75590551181102 Trial Disposition</span></span>
<span><span class="co">#&gt; 4 2.36220472440945 Trial Disposition</span></span>
<span><span class="co">#&gt; 5 1.18110236220472 Trial Disposition</span></span>
<span><span class="co">#&gt; 6         77.95276 Trial Disposition</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;                      name          Placebo         Low Dose        High Dose</span></span>
<span><span class="co">#&gt; 1               Completed         67.44186          29.7619         32.14286</span></span>
<span><span class="co">#&gt; 2            Discontinued         32.55814          70.2381         67.85714</span></span>
<span><span class="co">#&gt; 3           Adverse Event 9.30232558139535 52.3809523809524 47.6190476190476</span></span>
<span><span class="co">#&gt; 4                   Death 2.32558139534884 1.19047619047619                0</span></span>
<span><span class="co">#&gt; 5             I/E Not Met 1.16279069767442                0 2.38095238095238</span></span>
<span><span class="co">#&gt; 6        Lack of Efficacy 3.48837209302326                0 1.19047619047619</span></span>
<span><span class="co">#&gt; 7       Lost to Follow-up 1.16279069767442 1.19047619047619                0</span></span>
<span><span class="co">#&gt; 8      Physician Decision 1.16279069767442                0 2.38095238095238</span></span>
<span><span class="co">#&gt; 9      Protocol Violation 1.16279069767442 1.19047619047619 1.19047619047619</span></span>
<span><span class="co">#&gt; 10       Sponsor Decision 2.32558139534884 2.38095238095238 3.57142857142857</span></span>
<span><span class="co">#&gt; 11       Withdrew Consent 10.4651162790698 11.9047619047619 9.52380952380952</span></span>
<span><span class="co">#&gt;               Total                                var_label</span></span>
<span><span class="co">#&gt; 1          43.30709 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 2          56.69291 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 3  36.2204724409449 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 4  1.18110236220472 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 5  1.18110236220472 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 6   1.5748031496063 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 7  0.78740157480315 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 8  1.18110236220472 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 9  1.18110236220472 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 10 2.75590551181102 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 11 10.6299212598425 Participant Study Medication Disposition</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="format-output">Format output<a class="anchor" aria-label="anchor" href="#format-output"></a>
</h3>
<p>Once the raw analysis results are obtained, the
<code><a href="../reference/format_disposition.html">format_disposition()</a></code> function can be employed to prepare
the outdata,ensuring its compatibility with production-ready RTF
tables.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span> <span class="op">&lt;-</span> <span class="va">outdata</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/format_disposition.html">format_disposition</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Click to show the output
</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">tbl</span></span>
<span><span class="co">#&gt;                          name n_1    p_1 n_2    p_2 n_3    p_3 n_9999 p_9999</span></span>
<span><span class="co">#&gt; 1  Participants in population  86   &lt;NA&gt;  84   &lt;NA&gt;  84   &lt;NA&gt;    254   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2                Discontinued  24 (27.9)  12 (14.3)  20 (23.8)     56 (22.0)</span></span>
<span><span class="co">#&gt; 3               Adverse Event  18 (20.9)   9 (10.7)  13 (15.5)     40 (15.7)</span></span>
<span><span class="co">#&gt; 4                 I/E Not Met   3  (3.5)   0  (0.0)   4  (4.8)      7  (2.8)</span></span>
<span><span class="co">#&gt; 5            Lack of Efficacy   2  (2.3)   2  (2.4)   2  (2.4)      6  (2.4)</span></span>
<span><span class="co">#&gt; 6            Withdrew Consent   1  (1.2)   1  (1.2)   1  (1.2)      3  (1.2)</span></span>
<span><span class="co">#&gt; 7        Participants Ongoing  62 (72.1)  72 (85.7)  64 (76.2)    198 (78.0)</span></span>
<span><span class="co">#&gt; 8                   Completed  58 (67.4)  25 (29.8)  27 (32.1)    110 (43.3)</span></span>
<span><span class="co">#&gt; 9                Discontinued  28 (32.6)  59 (70.2)  57 (67.9)    144 (56.7)</span></span>
<span><span class="co">#&gt; 10              Adverse Event   8  (9.3)  44 (52.4)  40 (47.6)     92 (36.2)</span></span>
<span><span class="co">#&gt; 11                      Death   2  (2.3)   1  (1.2)   0  (0.0)      3  (1.2)</span></span>
<span><span class="co">#&gt; 12                I/E Not Met   1  (1.2)   0  (0.0)   2  (2.4)      3  (1.2)</span></span>
<span><span class="co">#&gt; 13           Lack of Efficacy   3  (3.5)   0  (0.0)   1  (1.2)      4  (1.6)</span></span>
<span><span class="co">#&gt; 14          Lost to Follow-up   1  (1.2)   1  (1.2)   0  (0.0)      2  (0.8)</span></span>
<span><span class="co">#&gt; 15         Physician Decision   1  (1.2)   0  (0.0)   2  (2.4)      3  (1.2)</span></span>
<span><span class="co">#&gt; 16         Protocol Violation   1  (1.2)   1  (1.2)   1  (1.2)      3  (1.2)</span></span>
<span><span class="co">#&gt; 17           Sponsor Decision   2  (2.3)   2  (2.4)   3  (3.6)      7  (2.8)</span></span>
<span><span class="co">#&gt; 18           Withdrew Consent   9 (10.5)  10 (11.9)   8  (9.5)     27 (10.6)</span></span>
<span><span class="co">#&gt;                                   var_label</span></span>
<span><span class="co">#&gt; 1                                     -----</span></span>
<span><span class="co">#&gt; 2                         Trial Disposition</span></span>
<span><span class="co">#&gt; 3                         Trial Disposition</span></span>
<span><span class="co">#&gt; 4                         Trial Disposition</span></span>
<span><span class="co">#&gt; 5                         Trial Disposition</span></span>
<span><span class="co">#&gt; 6                         Trial Disposition</span></span>
<span><span class="co">#&gt; 7                         Trial Disposition</span></span>
<span><span class="co">#&gt; 8  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 9  Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 10 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 11 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 12 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 13 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 14 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 15 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 16 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 17 Participant Study Medication Disposition</span></span>
<span><span class="co">#&gt; 18 Participant Study Medication Disposition</span></span></code></pre></div>
</details>
</div>
<div class="section level3">
<h3 id="rtf-tables">RTF tables<a class="anchor" aria-label="anchor" href="#rtf-tables"></a>
</h3>
<p>The last step is to prepare the RTF table using
<code>rtf_trt_compliance</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outdata</span><span class="op">$</span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="va">outdata</span><span class="op">$</span><span class="va">tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">==</span> <span class="st">"Status Not Recorded"</span>, <span class="st">"    Status Not Recorded"</span>, <span class="va">name</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">outdata</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rtf_disposition.html">rtf_disposition</a></span><span class="op">(</span></span>
<span>    <span class="st">"Source: [CDISCpilot: adam-adsl]"</span>,</span>
<span>    path_outdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".Rdata"</span><span class="op">)</span>,</span>
<span>    path_outtable <span class="op">=</span> <span class="st">"outtable/disposition.rtf"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; The outdata is saved in/tmp/Rtmp9jFPEo/file18fe52458495.Rdata</span></span>
<span><span class="co">#&gt; The output is saved in/home/runner/work/metalite.sl/metalite.sl/vignettes/outtable/disposition.rtf</span></span></code></pre></div>
<embed src="pdf/disposition.pdf" width="100%" height="400px" style="display: block; margin: auto;" type="application/pdf"></embed>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Wang, Yujie Zhao, Hiroaki Fukuda, PoYao Niu, Nan Xiao. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1. <br>Copyright Â© 2024 Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates. All rights reserved.</p>
</div>

<div class="pkgdown-footer-right">
  <p><span></span></p>
</div>

    </footer>
</div>





  </body>
</html>
